"use strict";(function(){function e(e){e=e||{},this.useCache=!!e.useCache}var r=this,i=r.SofiaTree;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=e),exports.SofiaTree=e):r.SofiaTree=e,e.noConflict=function(){return r.SofiaTree=i,e},e.prototype.__buildWordsArray=function(e,r){var i,h,t=[],n=[],o=[];for(n.push(this),o.push(e);n.length;)if(h=o.pop(),i=n.pop(),i.isWord&&!i.cache&&t.push(h),r&&i.cache)i.cache.forEach(function(e){t.push(e)});else if(i.children)for(var c in i.children)n.push(i.children[c]),o.push(h+c);return r&&(this.cache=t),t},e.prototype.__buildWordsArrayRec=function(e,r,i){if(this.isWord&&!this.cache&&i.push(e),r&&this.cache)this.cache.forEach(function(e){i.push(e)});else if(this.children)for(var h in this.children)this.children[h].buildWordsArray(e+h,i);return r&&(this.cache=i),i},e.prototype.getCompletions=function(e,r){var i=0,h=this;if(!e||!e.length)return[];do{if(!h.children||!h.children[e[i]])return[];h=h.children[e[i]],i++}while(i<e.length);return r?h.__buildWordsArrayRec(e,this.useCache,[]):h.__buildWordsArray(e,this.useCache)},e.prototype.insert=function(r){r=r.toLowerCase();var i=0,h=this;if(r&&r.length){for(;i<r.length&&h.children&&h.children[r[i]];)h=h.children[r[i]],i++;if(i<r.length)for(;!0;){if(h.children||(h.children={}),h.children[r[i]]=new e,i+1===r.length){h.children[r[i]].isWord=!0;break}h=h.children[r[i]],i++}return this}}}).call(this);
//# sourceMappingURL=sofia-tree-min.map